<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
>
<link rel="stylesheet" href="{{ 'bootstrap.css' | asset_url }}">
<link rel="stylesheet" href="{{ 'global.css' | asset_url }}">
<link rel="stylesheet" href="{{ 'product-list-section.css' | asset_url }}">

{%- assign products_list = section.blocks | where: 'type', 'products_slider' -%}
{%- assign option_btns = section.blocks | where: 'type', 'option_btns' -%}

{%- if section.settings.show_section -%}
  <section class="product-container" style="margin-top: {{ section.settings.section_mt }}px">
    <div class="container">
      {%- if section.settings.section_sub_heading != '' -%}
        <div>
          <p
            class="sub-heading-text"
            style="
              color: {{ section.settings.section_sub_heading_color }};
              font-size: {{ section.settings.section_sub_heading_font_size }}px;
            "
          >
            {{ section.settings.section_sub_heading }}
          </p>
        </div>
      {%- endif -%}

      <div
        class="product-container-menu-wrapper d-flex align-items-center"
      >
        <h3
          style="
            color: {{ section.settings.section_heading_color }};
            font-size: {{ section.settings.section_heading_font_size }}px;
          "
        >
          {{ section.settings.section_heading }}
        </h3>
        {%- if section.settings.top_btn_selection == 'single' -%}
          <a class="shop-all-btn font-family-header ms-auto">Shop All</a>

        {%- elsif section.settings.top_btn_selection == 'multiple' -%}
          <div class="best-seller-container-menu-btns ms-auto">
            {%- for block in option_btns -%}
              <button
                class="best-seller-menu-btn font-family-header"
                data-category="{{ block.settings.option_btn_label }}"
              >
                {{ block.settings.option_btn_label }}
              </button>
            {%- endfor -%}
          </div>
        {%- endif -%}
      </div>

      <button
        class="product-prev-btn new-product-prev-btn d-flex align-items-center justify-content-center"
        id="new-product-prev-btn"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="9"
          height="16"
          viewBox="0 0 9 16"
          fill="none"
        >
          <path
            d="M1 1L8 8L1 15"
            stroke="black"
            stroke-width="1.25"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <div class="swiper mySwiper2">
        <div class="swiper-wrapper product-cards-wrapper d-flex">
          {%- for block in products_list -%}
            <div
              class="swiper-slide product-card d-flex flex-column"
            >
              <a href="{{ block.settings.product.url }}">
                <div class="product-new-tag">NEW!</div>
                <button class="product-wishlist-btn">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M3.76438 14.0817L11.349 21.2067C11.6407 21.4807 11.7865 21.6177 11.9629 21.6308C11.9876 21.6326 12.0124 21.6326 12.0371 21.6308C12.2135 21.6177 12.3593 21.4807 12.651 21.2067L20.2356 14.0817C22.3696 12.077 22.6288 8.77811 20.834 6.4648L20.4965 6.02983C18.3494 3.26245 14.0396 3.72656 12.5309 6.88762C12.3178 7.33414 11.6822 7.33414 11.4691 6.88762C9.9604 3.72656 5.6506 3.26245 3.5035 6.02983L3.16602 6.4648C1.37122 8.77811 1.63037 12.077 3.76438 14.0817Z"
                      stroke="black"
                    />
                  </svg>
                </button>
                <div class="product-img-container">
                  {%- if block.settings.product.featured_image != blank -%}
                    <img
                      src="{{ block.settings.product.featured_image | image_url }}"
                      width=""
                      class="w-100"
                      height=""
                      loading="lazy"
                    >
                  {%- else -%}
                    {{ 'product-apparel-1' | placeholder_svg_tag: 'placeholder-svg w-100' }}
                  {%- endif -%}
                </div>

                <p class="product-discription font-family-header" style="color: #000 !important;">
                  {{ block.settings.product.title }}
                </p>
                <div class="product-rating-wrapper d-flex align-items-center">
                  <div class="product-rating-stars d-flex">
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M9.00003 1.5C9.29888 1.5 9.56921 1.67742 9.68812 1.95161L11.4303 5.96904L15.8188 6.37323C16.1177 6.40075 16.3713 6.60376 16.4637 6.88931C16.556 7.17485 16.4692 7.48795 16.2431 7.68523L12.9356 10.5706L13.9032 14.834C13.9694 15.1259 13.8557 15.4293 13.614 15.6058C13.3722 15.7823 13.0487 15.7981 12.7908 15.646L9.00003 13.4108L5.20925 15.646C4.9514 15.7981 4.62784 15.7823 4.38608 15.6058C4.14432 15.4293 4.03065 15.1259 4.0969 14.834L5.06451 10.5706L1.75699 7.68523C1.53085 7.48795 1.44408 7.17485 1.53641 6.88931C1.62875 6.60376 1.88241 6.40075 2.18125 6.37323L6.56975 5.96904L8.31195 1.95161C8.43085 1.67742 8.70118 1.5 9.00003 1.5ZM9.00003 4.13509L7.76912 6.97351C7.6601 7.2249 7.42267 7.39683 7.14982 7.42196L4.06288 7.70627L6.38807 9.73472C6.59594 9.91606 6.68748 10.1969 6.62643 10.4659L5.94434 13.4712L8.61908 11.8941C8.85414 11.7555 9.14592 11.7555 9.38098 11.8941L12.0557 13.4712L11.3736 10.4659C11.3126 10.1969 11.4041 9.91606 11.612 9.73472L13.9372 7.70627L10.8502 7.42196C10.5774 7.39683 10.34 7.2249 10.2309 6.97351L9.00003 4.13509Z"
                          fill="#FEC600"
                        />
                      </svg>
                    </span>
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M9.00003 1.5C9.29888 1.5 9.56921 1.67742 9.68812 1.95161L11.4303 5.96904L15.8188 6.37323C16.1177 6.40075 16.3713 6.60376 16.4637 6.88931C16.556 7.17485 16.4692 7.48795 16.2431 7.68523L12.9356 10.5706L13.9032 14.834C13.9694 15.1259 13.8557 15.4293 13.614 15.6058C13.3722 15.7823 13.0487 15.7981 12.7908 15.646L9.00003 13.4108L5.20925 15.646C4.9514 15.7981 4.62784 15.7823 4.38608 15.6058C4.14432 15.4293 4.03065 15.1259 4.0969 14.834L5.06451 10.5706L1.75699 7.68523C1.53085 7.48795 1.44408 7.17485 1.53641 6.88931C1.62875 6.60376 1.88241 6.40075 2.18125 6.37323L6.56975 5.96904L8.31195 1.95161C8.43085 1.67742 8.70118 1.5 9.00003 1.5ZM9.00003 4.13509L7.76912 6.97351C7.6601 7.2249 7.42267 7.39683 7.14982 7.42196L4.06288 7.70627L6.38807 9.73472C6.59594 9.91606 6.68748 10.1969 6.62643 10.4659L5.94434 13.4712L8.61908 11.8941C8.85414 11.7555 9.14592 11.7555 9.38098 11.8941L12.0557 13.4712L11.3736 10.4659C11.3126 10.1969 11.4041 9.91606 11.612 9.73472L13.9372 7.70627L10.8502 7.42196C10.5774 7.39683 10.34 7.2249 10.2309 6.97351L9.00003 4.13509Z"
                          fill="#FEC600"
                        />
                      </svg>
                    </span>
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M9.00003 1.5C9.29888 1.5 9.56921 1.67742 9.68812 1.95161L11.4303 5.96904L15.8188 6.37323C16.1177 6.40075 16.3713 6.60376 16.4637 6.88931C16.556 7.17485 16.4692 7.48795 16.2431 7.68523L12.9356 10.5706L13.9032 14.834C13.9694 15.1259 13.8557 15.4293 13.614 15.6058C13.3722 15.7823 13.0487 15.7981 12.7908 15.646L9.00003 13.4108L5.20925 15.646C4.9514 15.7981 4.62784 15.7823 4.38608 15.6058C4.14432 15.4293 4.03065 15.1259 4.0969 14.834L5.06451 10.5706L1.75699 7.68523C1.53085 7.48795 1.44408 7.17485 1.53641 6.88931C1.62875 6.60376 1.88241 6.40075 2.18125 6.37323L6.56975 5.96904L8.31195 1.95161C8.43085 1.67742 8.70118 1.5 9.00003 1.5ZM9.00003 4.13509L7.76912 6.97351C7.6601 7.2249 7.42267 7.39683 7.14982 7.42196L4.06288 7.70627L6.38807 9.73472C6.59594 9.91606 6.68748 10.1969 6.62643 10.4659L5.94434 13.4712L8.61908 11.8941C8.85414 11.7555 9.14592 11.7555 9.38098 11.8941L12.0557 13.4712L11.3736 10.4659C11.3126 10.1969 11.4041 9.91606 11.612 9.73472L13.9372 7.70627L10.8502 7.42196C10.5774 7.39683 10.34 7.2249 10.2309 6.97351L9.00003 4.13509Z"
                          fill="#FEC600"
                        />
                      </svg>
                    </span>
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M9.00003 1.5C9.29888 1.5 9.56921 1.67742 9.68812 1.95161L11.4303 5.96904L15.8188 6.37323C16.1177 6.40075 16.3713 6.60376 16.4637 6.88931C16.556 7.17485 16.4692 7.48795 16.2431 7.68523L12.9356 10.5706L13.9032 14.834C13.9694 15.1259 13.8557 15.4293 13.614 15.6058C13.3722 15.7823 13.0487 15.7981 12.7908 15.646L9.00003 13.4108L5.20925 15.646C4.9514 15.7981 4.62784 15.7823 4.38608 15.6058C4.14432 15.4293 4.03065 15.1259 4.0969 14.834L5.06451 10.5706L1.75699 7.68523C1.53085 7.48795 1.44408 7.17485 1.53641 6.88931C1.62875 6.60376 1.88241 6.40075 2.18125 6.37323L6.56975 5.96904L8.31195 1.95161C8.43085 1.67742 8.70118 1.5 9.00003 1.5ZM9.00003 4.13509L7.76912 6.97351C7.6601 7.2249 7.42267 7.39683 7.14982 7.42196L4.06288 7.70627L6.38807 9.73472C6.59594 9.91606 6.68748 10.1969 6.62643 10.4659L5.94434 13.4712L8.61908 11.8941C8.85414 11.7555 9.14592 11.7555 9.38098 11.8941L12.0557 13.4712L11.3736 10.4659C11.3126 10.1969 11.4041 9.91606 11.612 9.73472L13.9372 7.70627L10.8502 7.42196C10.5774 7.39683 10.34 7.2249 10.2309 6.97351L9.00003 4.13509Z"
                          fill="#FEC600"
                        />
                      </svg>
                    </span>
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 18 18"
                        fill="none"
                      >
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M9.00003 1.5C9.29888 1.5 9.56921 1.67742 9.68812 1.95161L11.4303 5.96904L15.8188 6.37323C16.1177 6.40075 16.3713 6.60376 16.4637 6.88931C16.556 7.17485 16.4692 7.48795 16.2431 7.68523L12.9356 10.5706L13.9032 14.834C13.9694 15.1259 13.8557 15.4293 13.614 15.6058C13.3722 15.7823 13.0487 15.7981 12.7908 15.646L9.00003 13.4108L5.20925 15.646C4.9514 15.7981 4.62784 15.7823 4.38608 15.6058C4.14432 15.4293 4.03065 15.1259 4.0969 14.834L5.06451 10.5706L1.75699 7.68523C1.53085 7.48795 1.44408 7.17485 1.53641 6.88931C1.62875 6.60376 1.88241 6.40075 2.18125 6.37323L6.56975 5.96904L8.31195 1.95161C8.43085 1.67742 8.70118 1.5 9.00003 1.5ZM9.00003 4.13509L7.76912 6.97351C7.6601 7.2249 7.42267 7.39683 7.14982 7.42196L4.06288 7.70627L6.38807 9.73472C6.59594 9.91606 6.68748 10.1969 6.62643 10.4659L5.94434 13.4712L8.61908 11.8941C8.85414 11.7555 9.14592 11.7555 9.38098 11.8941L12.0557 13.4712L11.3736 10.4659C11.3126 10.1969 11.4041 9.91606 11.612 9.73472L13.9372 7.70627L10.8502 7.42196C10.5774 7.39683 10.34 7.2249 10.2309 6.97351L9.00003 4.13509Z"
                          fill="#FEC600"
                        />
                      </svg>
                    </span>
                  </div>
                  <span>No reviews</span>
                </div>
                {%- if block.settings.product.price == block.settings.product.compare_at_price -%}
                  <span class="product-price d-inline-block">{{ block.settings.product.price | money }}</span>
                {%- else -%}
                  <span
                    class="product-price product-price-with-line-through d-flex align-items-center"
                    ><span class="text-danger">{{ block.settings.product.price | money }}</span>
                    <span class="product-price-line-through">
                      {{- block.settings.product.compare_at_price | money -}}
                    </span></span
                  >
                {%- endif -%}
              </a>
            </div>
          {%- endfor -%}
        </div>
      </div>

      <button
        class="product-next-btn new-product-next-btn d-flex align-items-center justify-content-center"
        id="new-product-next-btn"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="9"
          height="16"
          viewBox="0 0 9 16"
          fill="none"
        >
          <path
            d="M1 1L8 8L1 15"
            stroke="black"
            stroke-width="1.25"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>
  </section>
{%- endif -%}

{% schema %}
{
  "name": "Product List Section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_section",
      "label": "Enable",
      "default": true
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "range",
      "id": "section_mt",
      "min": 10,
      "max": 120,
      "step": 5,
      "unit": "px",
      "label": "Margin Top",
      "default": 80
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "paragraph",
      "content": "Sub Heading"
    },
    {
      "type": "inline_richtext",
      "id": "section_sub_heading",
      "label": "Sub Heading"
    },
    {
      "type": "color",
      "id": "section_sub_heading_color",
      "label": "Font Color",
      "default": "#000"
    },
    {
      "type": "range",
      "id": "section_sub_heading_font_size",
      "min": 15,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 15
    },
    {
      "type": "paragraph",
      "content": "Heading"
    },
    {
      "type": "inline_richtext",
      "id": "section_heading",
      "label": "heading",
      "default": "Heading"
    },
    {
      "type": "color",
      "id": "section_heading_color",
      "label": "Font Color",
      "default": "#000"
    },
    {
      "type": "range",
      "id": "section_heading_font_size",
      "min": 15,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Font Size",
      "default": 32
    },
    {
      "type": "header",
      "content": "Buttons"
    },
    {
      "type": "select",
      "id": "top_btn_selection",
      "label": "Button Selection",
      "options": [
        {
          "value": "no_option",
          "label": "No Option"
        },
        {
          "value": "single",
          "label": "Single Option"
        },
        {
          "value": "multiple",
          "label": "Multiple Options"
        }
      ],
      "default": "single"
    }
  ],
  "blocks": [
    {
      "type": "products_slider",
      "name": "Products Slider",
      "limit": 20,
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product List"
        }
      ]
    },
    {
      "type": "option_btns",
      "name": "Option Button",
      "limit": 5,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "option_btn_label",
          "label": "Label",
          "default": "Label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product List Section",
      "blocks": [
        {
          "type": "products_slider"
        },
        {
          "type": "products_slider"
        },
        {
          "type": "products_slider"
        },
        {
          "type": "products_slider"
        },
        {
          "type": "products_slider"
        }
      ]
    }
  ]
}
{% endschema %}

{% javascript %}
  var swiper = new Swiper('.mySwiper2', {
    slidesPerView: 5,
    spaceBetween: 30,
    navigation: {
      nextEl: '#new-product-next-btn',
      prevEl: '#new-product-prev-btn',
    },
  });

  const bestSellerMenuButtons = document.querySelectorAll('.best-seller-menu-btn');

  bestSellerMenuButtons.forEach((button) => {
    button.addEventListener('click', () => {
      bestSellerMenuButtons.forEach((btn) => btn.classList.remove('active'));
      button.classList.add('active');
    });
  });
{% endjavascript %}
